<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JazzyPop Trombone Sound Library Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .category {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .category h2 {
            color: #555;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .sound-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .sound-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            word-wrap: break-word;
        }
        
        .sound-button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .sound-button:active {
            transform: translateY(0);
            box-shadow: none;
        }
        
        .sound-button.playing {
            background: #ff5722;
            animation: pulse 0.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .controls label {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-slider {
            width: 200px;
        }
        
        .search-box {
            flex: 1;
            min-width: 200px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>ðŸŽº JazzyPop Trombone Sound Library Test Page</h1>
    
    <div class="info">
        <strong>Instructions:</strong> Click any button to play the sound effect. Use the controls below to adjust volume or search for specific sounds.
        These sounds can be integrated into the flashcard system for various interactions.
    </div>
    
    <div class="controls">
        <label>
            Volume:
            <input type="range" class="volume-slider" min="0" max="100" value="70" id="volumeSlider">
            <span id="volumeDisplay">70%</span>
        </label>
        <label>
            <input type="checkbox" id="loopCheckbox"> Loop
        </label>
        <input type="text" class="search-box" id="searchBox" placeholder="Search sounds...">
    </div>
    
    <div id="soundCategories"></div>
    
    <script>
        // Sound library organized by category
        const soundLibrary = {
            "Basic Effects": [
                "trombone_wah_1.mp3",
                "trombone_wah_2.mp3",
                "comedy_stinger_1920s.mp3",
                "knock_knock.mp3",
                "whos_there.mp3",
                "waa_waaa_1.mp3",
                "waa_waaa_who.mp3"
            ],
            "Speech Patterns": [
                "speech_patterns/statement_short.mp3",
                "speech_patterns/greeting_question.mp3",
                "speech_patterns/excited_speech.mp3",
                "speech_patterns/question_rising.mp3",
                "speech_patterns/what_did_you_say.mp3",
                "speech_patterns/agreement_pattern.mp3",
                "speech_patterns/disagreement_no.mp3",
                "speech_patterns/trombone_laugh.mp3",
                "speech_patterns/sad_speech.mp3",
                "speech_patterns/angry_speech.mp3",
                "speech_patterns/storytelling_pattern.mp3",
                "speech_patterns/teacher_explaining.mp3",
                "speech_patterns/trombone_dialog.mp3",
                "speech_patterns/phone_conversation.mp3",
                "speech_patterns/i_dont_think_so.mp3",
                "speech_patterns/come_here_please.mp3",
                "speech_patterns/whats_going_on.mp3",
                "speech_patterns/comedy_timing.mp3",
                "speech_patterns/double_take.mp3",
                "speech_patterns/speech_melody_hybrid.mp3",
                "speech_patterns/bebop_trombone_scat.mp3"
            ],
            "Abstract Voices": [
                "abstract_voices/anime_abstract_voice.mp3",
                "abstract_voices/kawaii_trombone.mp3",
                "abstract_voices/villain_monologue.mp3",
                "abstract_voices/harmon_mute_speech.mp3",
                "abstract_voices/cup_mute_whisper.mp3",
                "abstract_voices/bucket_mute_distant.mp3",
                "abstract_voices/vocoder_trombone.mp3",
                "abstract_voices/autotune_trombone.mp3",
                "abstract_voices/news_anchor_trombone.mp3",
                "abstract_voices/gameshow_host.mp3",
                "abstract_voices/auctioneer_rapid.mp3",
                "abstract_voices/rubber_hose_cartoon.mp3",
                "abstract_voices/looney_tunes_style.mp3",
                "abstract_voices/princess_trombone.mp3",
                "abstract_voices/alien_language.mp3",
                "abstract_voices/underwater_speech.mp3",
                "abstract_voices/dream_sequence.mp3",
                "abstract_voices/sarcastic_really.mp3",
                "abstract_voices/confused_mumbling.mp3",
                "abstract_voices/triumphant_announce.mp3",
                "abstract_voices/jazz_conversation.mp3",
                "abstract_voices/blues_complaining.mp3",
                "abstract_voices/funk_exclamation.mp3",
                "abstract_voices/8bit_trombone.mp3",
                "abstract_voices/rpg_merchant.mp3",
                "abstract_voices/asmr_trombone.mp3"
            ],
            "Comedy Emphasis": [
                "comedy_emphasis/rubber_duck_squeak.mp3",
                "comedy_emphasis/bicycle_horn.mp3",
                "comedy_emphasis/whoopee_cushion.mp3",
                "comedy_emphasis/glass_breaking.mp3",
                "comedy_emphasis/record_scratch.mp3",
                "comedy_emphasis/coconut_hooves.mp3",
                "comedy_emphasis/harp_glissando.mp3",
                "comedy_emphasis/xylophone_run.mp3",
                "comedy_emphasis/kazoo_fanfare.mp3",
                "comedy_emphasis/jews_harp_boing.mp3",
                "comedy_emphasis/timpani_roll.mp3",
                "comedy_emphasis/triangle_ding.mp3",
                "comedy_emphasis/anvil_drop.mp3",
                "comedy_emphasis/cork_pop.mp3",
                "comedy_emphasis/zip_whoosh.mp3",
                "comedy_emphasis/pie_splat.mp3",
                "comedy_emphasis/ratchet_sound.mp3",
                "comedy_emphasis/cuckoo_clock.mp3",
                "comedy_emphasis/laugh_track.mp3",
                "comedy_emphasis/shocked_gasp.mp3",
                "comedy_emphasis/doh_sound.mp3",
                "comedy_emphasis/wolf_whistle.mp3",
                "comedy_emphasis/nervous_gulp.mp3",
                "comedy_emphasis/woo_cheer.mp3",
                "comedy_emphasis/achievement_unlock.mp3",
                "comedy_emphasis/mario_coin.mp3",
                "comedy_emphasis/dj_air_horn.mp3",
                "comedy_emphasis/mlg_air_horn.mp3",
                "comedy_emphasis/vine_boom.mp3",
                "comedy_emphasis/spring_boing.mp3",
                "comedy_emphasis/squeaky_toy.mp3",
                "comedy_emphasis/cash_register.mp3",
                "comedy_emphasis/boxing_bell.mp3",
                "comedy_emphasis/banana_slip.mp3",
                "comedy_emphasis/foghorn_blast.mp3"
            ],
            "Comedy Stingers": [
                "comedy_stingers/classic_rimshot.mp3",
                "comedy_stingers/quick_rimshot.mp3",
                "comedy_stingers/ba_dum_tss.mp3",
                "comedy_stingers/wah_wah_wah.mp3",
                "comedy_stingers/slide_up.mp3",
                "comedy_stingers/slide_down.mp3",
                "comedy_stingers/vaudeville_sting.mp3",
                "comedy_stingers/circus_fanfare.mp3",
                "comedy_stingers/tada_reveal.mp3",
                "comedy_stingers/mystery_reveal.mp3",
                "comedy_stingers/suspense_sting.mp3",
                "comedy_stingers/gotcha_moment.mp3",
                "comedy_stingers/fail_sound.mp3",
                "comedy_stingers/success_fanfare.mp3",
                "comedy_stingers/level_up.mp3",
                "comedy_stingers/power_up.mp3",
                "comedy_stingers/game_over.mp3",
                "comedy_stingers/you_win.mp3",
                "comedy_stingers/bonus_round.mp3",
                "comedy_stingers/jackpot.mp3",
                "comedy_stingers/quiz_correct.mp3",
                "comedy_stingers/quiz_wrong.mp3",
                "comedy_stingers/timer_tick.mp3",
                "comedy_stingers/times_up.mp3",
                "comedy_stingers/drumroll_reveal.mp3",
                "comedy_stingers/cymbal_crash.mp3",
                "comedy_stingers/orchestra_hit.mp3",
                "comedy_stingers/cartoon_boing.mp3",
                "comedy_stingers/slip_fall.mp3",
                "comedy_stingers/crash_bang.mp3",
                "comedy_stingers/bonk_sound.mp3",
                "comedy_stingers/whoosh_transition.mp3",
                "comedy_stingers/magic_sparkle.mp3",
                "comedy_stingers/poof_disappear.mp3",
                "comedy_stingers/appear_sound.mp3",
                "comedy_stingers/teleport_sound.mp3"
            ],
            "Experimental": [
                "experimental/charlie_brown_teacher.mp3",
                "experimental/brass_speech_mimic.mp3",
                "experimental/cartoon_trombone_talk.mp3",
                "experimental/vaudeville_trombone.mp3",
                "experimental/ba_dum_tss_1920s.mp3",
                "experimental/silent_film_stinger.mp3",
                "experimental/ragtime_comedy_ending.mp3",
                "experimental/extreme_distortion_rachel.mp3",
                "experimental/extreme_distortion_bella.mp3"
            ]
        };
        
        let currentAudio = null;
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeDisplay = document.getElementById('volumeDisplay');
        const loopCheckbox = document.getElementById('loopCheckbox');
        const searchBox = document.getElementById('searchBox');
        const categoriesContainer = document.getElementById('soundCategories');
        
        // Update volume display
        volumeSlider.addEventListener('input', (e) => {
            volumeDisplay.textContent = e.target.value + '%';
            if (currentAudio) {
                currentAudio.volume = e.target.value / 100;
            }
        });
        
        // Search functionality
        searchBox.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const buttons = document.querySelectorAll('.sound-button');
            
            buttons.forEach(button => {
                const soundName = button.textContent.toLowerCase();
                const shouldShow = soundName.includes(searchTerm);
                button.style.display = shouldShow ? 'block' : 'none';
            });
            
            // Hide empty categories
            document.querySelectorAll('.category').forEach(category => {
                const visibleButtons = category.querySelectorAll('.sound-button:not([style*="display: none"])');
                category.style.display = visibleButtons.length > 0 ? 'block' : 'none';
            });
        });
        
        // Play sound function
        function playSound(filepath, button) {
            // Stop current audio if playing
            if (currentAudio) {
                currentAudio.pause();
                document.querySelectorAll('.playing').forEach(btn => btn.classList.remove('playing'));
            }
            
            // Create new audio
            currentAudio = new Audio('src/trombone_audio/' + filepath);
            currentAudio.volume = volumeSlider.value / 100;
            currentAudio.loop = loopCheckbox.checked;
            
            // Add playing class
            button.classList.add('playing');
            
            // Play audio
            currentAudio.play().catch(err => {
                console.error('Error playing sound:', err);
                alert('Error playing sound: ' + err.message);
            });
            
            // Remove playing class when done
            currentAudio.addEventListener('ended', () => {
                button.classList.remove('playing');
                currentAudio = null;
            });
            
            currentAudio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                button.classList.remove('playing');
                alert('Could not load sound: ' + filepath);
            });
        }
        
        // Create sound buttons
        function createSoundButtons() {
            for (const [category, sounds] of Object.entries(soundLibrary)) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                
                const categoryTitle = document.createElement('h2');
                categoryTitle.textContent = category;
                categoryDiv.appendChild(categoryTitle);
                
                const soundGrid = document.createElement('div');
                soundGrid.className = 'sound-grid';
                
                sounds.forEach(sound => {
                    const button = document.createElement('button');
                    button.className = 'sound-button';
                    button.textContent = sound.split('/').pop().replace('.mp3', '');
                    button.onclick = () => playSound(sound, button);
                    soundGrid.appendChild(button);
                });
                
                categoryDiv.appendChild(soundGrid);
                categoriesContainer.appendChild(categoryDiv);
            }
        }
        
        // Initialize
        createSoundButtons();
        
        // Stop sound with spacebar
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && currentAudio) {
                e.preventDefault();
                currentAudio.pause();
                document.querySelectorAll('.playing').forEach(btn => btn.classList.remove('playing'));
                currentAudio = null;
            }
        });
    </script>
</body>
</html>